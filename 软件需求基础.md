# 第五章 软件需求基础

## 名词解释 需求
1. 用户为了解决问题或达到某些目标所需要的条件或能力
2. 系统或系统部件为了满足合同、标准、规范或其他正式文档所规定的要求而需要具备的条件或能力
3. 对上述的条件或能力的一种文档化表述

## 区分需求的三个层次
给出一个实例, 对给定的需求示例判断其层次
1. 业务需求： 来自现实，是系统建立的战略出发点，表现为高层次的目标，**它描述了组织为什么要开发系统**，为了满足用户的业务需求，需求工程师需要描述系统高层次的解决方案，定义系统应该具备的特性
2. 用户需求： 来自现实，执行实际工作的用户对系统所能完成的具体任务的期望，描述了系统能够**帮助用户做些什么**。对所有的用户需求，都应该有充分的问题域知识作为背景支持 **是模糊的, 不清晰的, 多特性混杂, 多逻辑混杂**
3. 系统级需求： 来自软件，用户对系统行为的期望，每个系统级需求反映了一次外界与系统的交互行为，或者系统的一个实现细节。描述了**开发人员需要实现什么**

- 将用户需求转换为系统级需求的过程是一个复杂的过程
- 首先需要分析问题领域及其特性，从中发现问题域和计算机系统的共享知识，建立系统的知识模型
- 然后将用户需求部署到系统模型当中，即定义系统行为，让它们联合起来实现用户需求，每一个系统行为即一个系统级需求
- 该过程就是需求工程中最为重要的需求分析活动，又称建模与分析活动
  

## 掌握需求的类型
对给定的需求示例, 判定需求类型
1. 项目需求: 人的数量, 成本, 时间
2. 过程需求: 人的分工, 合作, 方法, 工具
3. 系统需求
   1. 软件需求
   2. 硬件需求
   3. 其他需求
4. 不切实际的期望

软件需求的分类
1. 功能需求: 用户希望系统所能够执行的活动, 主要表现为系统和环境之间的行为交互
2. 性能需求: 系统整体或组成部分应该拥有的性能特征
3. 质量属性: 系统完成工作的质量, 即系统需要在一个"好的程度"上实现功能需求
4. 对外接口: 包括硬件接口, 软件接口, 数据库接口
5. 约束: 例如一些商业规则
6. 数据需求: 对功能需求中未定义的数据结构的补充

## 建立用例图
四要素: 用例, 参与者, 关系, 系统边界

建立用例图的步骤
1. 目标分析, 确定解决方向
2. 寻找参与者
3. 寻找用例
4. 细化用例

用例描述了为应对一个业务事件, 由一个用户发起, 并在一个连续时间段内完成, 可以增加业务价值的任务

### 常见错误
- **不要将没有业务价值(而是技术实现需要)的事件作为用例**
- 不要将用例细化为单个操作
- 不要将单个步骤细化为用例
- 不要将片面的一个方向细化为用例

## 建立分析类图
与设计类图有所不同, 分析类图关注现实世界问题域, 而不是软件系统的内部构造机制(类型, 方法, 可见性) **不允许出现与现实无关的内容**
- 对象: 标识(对象自治, 对象请求协助), 状态(存储的数据), 行为(利用数据做什么)
- 链接: 对象间相互的路径
- 类: 对象的集合
- 关联: 潜在的链接抽象

分析的步骤
1. 识别候选类(名词分析法)
2. 从候选类中确定概念类(既有状态又有行为)
   1. 如果只需要状态, 而不需要行为: 是其他概念类的属性
   2. 如果不需要状态, 却需要行为: 可能是需求的遗漏, 如果确定没有遗漏就剔除该候选类
   3. 不需要状态, 也不需要行为: 被完全剔除
3. 识别关联("名词" + "动词" + "名词" 的结构): 第一标准是满足需求的要求, 第二标准是现实状况
4. 识别重要属性

![alt text](/assets/image0.png)

分析过程以需求为准

## 建立系统顺序图(交互图)
步骤
1. 确定上下文环境
2. 根据用例描述找到交互的对象
3. 按照用例描述中的流程顺序逐步添加消息

![alt text](/assets/image1.png)

注意
1. 异步消息的箭头无论是从用户到系统还是从系统到用户都是一样的
2. opt标签表示可选
3. loop标签表示循环, 要在旁边用```[]```内写循环条件
4. alt标签表示候选分支(基本上只会放一次返回消息), 每一种可选分支之间要用虚线分割, 而且在表示执行态的圆柱上面写条件
![alt text](/assets/image2.png)

## 建立状态图
- 状态: 一组观察到的情况, 在一个给定的时间描述系统行为
- 状态转换: 从一个状态到另一个状态的转移
- 事件: 导致系统表现出可预测行为的事件
- 活动: 作为产生转换的结果而发生的过程

步骤
1. 确定上下文环境
2. 识别状态
3. 建立状态转换
4. 补充详细信息, 完善状态图